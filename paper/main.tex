\documentclass{article}
\usepackage{arxiv}

\usepackage[utf8]{inputenc}
\usepackage[english, russian]{babel}
\usepackage[T1]{fontenc}
\usepackage{url}
\usepackage{booktabs}
\usepackage{amsfonts}
\usepackage{nicefrac}
\usepackage{microtype}
\usepackage{lipsum}
\usepackage{graphicx}
\usepackage{natbib}
\usepackage{doi}



\title{ Статистический анализ корректирующих способностей различных методов при передаче данных в каналах со стираниями}

\author{ Кожанов Илья Романович \\
    Кафедра Математических Методов Прогнозирования\\
	Факультет Вычислительной Математики и Кибернетики\\
	Московский государственный университет имени М. В. Ломоносова\\
    Научный руководитель: Гуров Сергей Исаевич \\
	\texttt{ilya.kozanov@yandex.ru} \\
	%% examples of more authors
	} \\
	%% \AND
	%% Coauthor \\
	%% Affiliation \\
	%% Address \\
	%% \texttt{email} \\
	%% \And
	%% Coauthor \\
	%% Affiliation \\
	%% Address \\
	%% \texttt{email} \\
	%% \And
	%% Coauthor \\
	%% Affiliation \\
	%% Address \\
	%% \texttt{email} \\
}
\date{}

\renewcommand{\shorttitle}{\textit{arXiv} Template}

%%% Add PDF metadata to help others organize their library
%%% Once the PDF is generated, you can check the metadata with
%%% $ pdfinfo template.pdf
\hypersetup{
pdftitle={ Статистический анализ корректирующих способностей различных методов при передаче данных в каналах со стираниями},
pdfsubject={Machine Learning},
pdfauthor={Кожанов Илья Романович},
pdfkeywords={First keyword, Second keyword, More},
}

\begin{document}
\maketitle

\begin{abstract}
	В представленной работе осуществляется статистическое моделирование различных методов восстановления стертых пакетов при передаче данных в каналах типа «стирание». Основной целью данного исследования является сравнение методов посредством эмулирования их работы статистическими моделями и подсчетом их корректирующей способности с помощью этих моделей. Для некоторых методов восстановления пакетов аналитический расчет корректирующей способности невозможен или крайне затруднителен в виду сложной математической модели функционирования данных методов, а также различной эффективности при различных паттернах ошибок. Статистическое моделирование их работы позволяет рассчитать корректирующие способности таких методов и сравнить эффективность их работы. В данной рассматриваются метод добавления контрольного пакета четности, его модификация even/odd, коды Рида-Соломона, Фонтанные коды (в частности raptor-коды).
\end{abstract}


\keywords{Канал со стираниями \and Статистическое моделирование \and Коды Рида-Соломона \and Фонтанные коды} 

\section{Введение}
При передаче данных от источника к приемнику могут произойти сбои оборудования, приводящие к ошибкам различного вида. В данной работе рассматриваются часто наблюдаемые ошибки вида \textbf{потеря пакета}. Во многих протоколах при потере пакетов принимающая сторона запрашивает потерянные данные еще раз. Однако при потоковой передаче такая процедура занимает критически много времени. В таких случаях чтобы обнаружить и исправить ошибку, применяют помехоустойчивое кодирование, т.е. кодируют сообщение таким образом, чтобы принимающая сторона знала, произошла ошибка или нет, а так же исправить их в случае возникновения. В работе рассматриваются различные методы систематического кодирования сообщения (пакеты четности, even/odd и аналогичные модификации, коды Рида-Соломона) и анализируется их корректирующая способность на основании статистического моделирования их работы. 

\section{Постановка задачи}
Для сравнительного анализа выбранных методов была выбрана часто используемая \textbf{модель двоичного симметричного канала со стираниями (ДСКС)} \citep{channel}. В данной модели на вход в канал подается последовательность пакетов данных. На выходе для каждого из пакетов существует одинаковая, фиксированная вероятность $q$ возникновения ошибки типа стирание, при которой теряется информация о содержимом пакета, но сохраняется информация о факте наличия ошибки и ее локализации в последовательности. Так же с фиксированной вероятностью $p_{0}$ при передаче очередного пакета возникает ошибка типа трансформация, при которой данные при передаче в силу несовершенности канала неверно интерпретируются на выходе из него, в результате чего пакет модифицируется. Однако, в отличие от ошибки типа стирание, такая ошибка не детектируется. На рисунке 1 представлен граф модели двоичного симметричного канала со стираниями для тривиального случая длины пакета, равной 1. 

\begin{figure}[h]
    \centering
    {{\includegraphics[width=10cm]{figures/граф1.jpg} }}%
    \caption{Граф модели двоичного симметричного канала со стираниями}%
    \label{fig:example1}%
\end{figure}
\newline

На практике, ошибки типа трансформация возникают значительно реже, чем ошибки типа стирание, поэтому в рамках данной работы рассматривается модель двоичного симметричного канала со стираниям с параметрами $p_{0} = 0$ и $q \in [0.002; 0.05]$. На рисунке 2 представлен граф такой модели.
\begin{figure}[h]
    \centering
    {{\includegraphics[width=10cm]{figures/граф2.jpg} }}%
    \caption{Граф модели двоичного симметричного канала со стираниями для $p_{0}$ = 0}%
    \label{fig:example2}%
\end{figure}
Чтобы исправить ошибку, применяют помехоустойчивое кодирование, т.е. кодируют сообщение таким образом, чтобы принимающая сторона знала, произошла ошибка или нет, и при могла исправить ошибки в случае их возникновения. По сути, кодирование — это добавление к исходной информации дополнительной, проверочной, информации. Для кодирования на передающей стороне используются энкодер, а на принимающей стороне — декодер для получения исходного сообщения. \citep{shink}
\newline
Введем некоторые необходимые понятия:
\newline
\textbf{Расстояние Хемминга} - число позиций, в которых соответствующие символы двух слов одинаковой длины различны. В более общем случае расстояние Хэмминга применяется для строк одинаковой длины любых q-ичных алфавитов и служит метрикой различия (функцией, определяющей расстояние в метрическом пространстве) объектов одинаковой размерности.
\newline
\textbf{Корректирующая способность} — характеристика t кода C, описывающая возможность исправить ошибки в кодовых словах. Определяется как целое число, меньшее половины от минимального расстояния $d_{min}$ между кодовыми словами минус один в принятой метрике кода:
$$t = \left\lfloor (d_{min} - 1) \over 2 \right\rfloor$$
Для Хемминговой метрики корректирующую способность кода можно определить как максимальный радиус сфер Хемминга, при котором для двух различных кодовых векторов сферы не пересекаются  \citep{hamming}:
$$t = \underset{\vec v_i ,\vec v_j  \in C}{\max} \left\{ {l|S_l \left( {\vec v_i } \right) \cap S_l \left( {\vec v_j } \right) = \emptyset ,\vec v_i  \ne \vec v_j } \right\}$$
Необходимо передать по двоичному симметричному каналу со стираниями сообщение длины $K$, которое состоит из $K$ пакетов-символов. Каждый пакет имеет фиксированную вероятность возникновения ошибки типа стирание   $=q$. Пусть после некоторого преобразования исходного сообщения, длина сообщения стала больше и теперь составляет $N = K + M$ пакетов. Тогда назовем $M$ - избыточными пакетами, а $M/N$ - избыточностью кода.


При этом, в результате кодирования, восстанавления и декодирования сообщения вероятность потери каждого пакета должна не превышать $\pi = 0.001$ (при вероятностной интерпретации полученного сообщения аналогичной исходному). В рамках данной работы рассматриваются систематические методы кодирования сообщения, то есть такие, в которых избыточные контрольные пакеты дописываются в конец сообщения. 

Метрикой качества того или иного метода будем считать минимальную избыточность при кодировании сообщения, необходимую для снижения вероятности стирания пакета до нужной.

Выбор наилучшего кода будет зависеть от многих факторов, включая ограничения по используемому аппаратному обеспечению, тип используемых данных и требуемую производительность системы. В данной работе рассмотрены следующие методы - пакеты четности, even/odd и аналогичные модификации, коды Рида-Соломона.

\section{Применение методов}
\subsection{Реализация моделирования работы канала}
Статистическое моделирование работы двоичного канала со стираниями реализовано на языке \textbf{Python3} с помощью встроенного генератора псевдослучайных чисел. Максимальная длина сообщения в пакетах вычислялась с помощью алгоритма бинарного поиска по значениям  $K$ и соответствующим им вероятностям стирания пакета после применения метода - $\pi$. Они, в свою очередь, расчитывались для каждого фиксированного $K$ усреднением количества не восстановленных после применения метода пакетов по $10^{6}$ (в случае кодов Рида-Соломона - $3*10^{5}$) независимым экспериментам.
\subsection{Добавление контрольного пакета четности}
Принцип работы данного метода заключается в том, что к сообщению добавляется 1 проверочный пакет, который формируется побитовым применением логической операции \textbf{XOR} между всеми пакетами исходного сообщения. Таким образом, в случае стирания одного пакета, его можно будет восстановить путем применения логической операции \textbf{XOR}  между проверочным пакетом и всеми пакетами исходного сообщения, кроме стертого. Данный метод позволяет гарантированно восстанавливать 1 пакет в случае единичного стирания, но в случае возникновения большего количества ошибок или в случае стирания проверочного пакета при передаче он не позволяет восстановить ни одного из стертых пакетов. Избыточность метода составляет $1 \over K+1$.

Зафиксируем некоторое значение $q$. Аналитическая формула максимальной длины сообщения, при которой в результате применения метода добавления контрольного пакета четности вероятность стирания пакета $\leq \pi$. 
$$K = \left\lfloor ln(\pi) - ln(q) \over ln(1-q) \right\rfloor$$

В результате статистического моделирования работы метода были получены результаты, представленные в таблице 1.

% Please add the following required packages to your document preamble:
% \usepackage{graphicx}
\begin{table}[h]
\centering
\resizebox{\textwidth}{!}{%
\begin{tabular}{rrrr}
\multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Вероятность стирания пакета\\ до применения метода (q)\end{tabular}}} &
  \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Число информационных\\ пакетов (K)\end{tabular}}} &
  \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Вероятность стирания пакета\\ после применения метода (pi)\end{tabular}}} &
  \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Вероятность стирания пакета\\ для сообщения длины K+1\end{tabular}}} \\
0.002 & 346 & 0.000999 & 0.001002 \\
0.003 & 134 & 0.000997 & 0.001001 \\
0.005 & 44  & 0.000995 & 0.001015 \\
0.007 & 21  & 0.000962 & 0.001009 \\
0.01  & 10  & 0.000953 & 0.001051 \\
0.02  & 2   & 0.000791 & 0.001181 \\
0.03  & 1   & 0.000899 & 0.001772 \\
0.05  & -   & -        & -       
\end{tabular}%
}
\end{table}
На рисунке 3 представлен график зависимости вероятности стирания пакета после применения метода - $\pi$ (вероятность того, что отдельно взятый пакет окажется невосстановленным) от исходной длины сообщения для исходной вероятности стирания пакета $q=0.002$

\begin{figure}[h]
    \centering
    {{\includegraphics[width=\textwidth]{figures/график1.JPG} }}%
    \caption{График зависимости $\pi$ от $K$}%
    \label{fig:example3}%
\end{figure}

Среднеквадратическая ошибка с аналитической формулой - $2*10^{-9}$


\subsection{Модификация even/odd}
Преимуществом метода добавления контрольного пакета четности является простота масштабирования. Модификация \textbf{even/odd} подразумаевает добавление в конец сообщения не одного, а двух контрольных пакетов четности, один из которых формируется побитовым применением логической операции \textbf{XOR} между пакетами исходного сообщения, стоящими на четных позициях, а другой - между пакетами исходного сообщения, стоящими на нечетных позициях. Таким образом, данный метод позволяет гарантированно восстанавливать 1 стертый пакет и с некоторой вероятностью 2 пакета (в том случае, если за них отвечают разные проверочные пакеты). Избыточность метода составляет $2 \over K+1$.

Аналитическая формула максимальной длины сообщения, при которой в результате применения метода добавления контрольного пакета четности вероятность стирания пакета $\leq \pi$. 

$$K = \left\lfloor 2 \cdot \frac{ln(\pi) - ln(q)}{ln(1-q)} \right\rfloor$$

В результате статистического моделирования работы метода были получены результаты, представленные в таблице 2:

\begin{table}[h]
\centering
\resizebox{\textwidth}{!}{%
\begin{tabular}{rrrr}
\multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Вероятность стирания пакета\\ до применения метода (q)\end{tabular}}} &
  \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Число информационных\\ пакетов (K)\end{tabular}}} &
  \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Вероятность стирания пакета\\ после применения метода (pi)\end{tabular}}} &
  \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Вероятность стирания пакета\\ для сообщения длины K+1\end{tabular}}} \\
0.002 & 692 & 0.000998 & 0.001008 \\
0.003 & 268 & 0.000985 & 0.001005 \\
0.005 & 88  & 0.000970 & 0.001014 \\
0.007 & 42  & 0.000996 & 0.001030 \\
0.01  & 20  & 0.000941 & 0.001112 \\
0.02  & 4   & 0.000802 & 0.001101 \\
0.03  & 2   & 0.000780 & 0.001078 \\
0.05  & -   & -        & -       
\end{tabular}%
}
\end{table}

Таким образом, метод \textbf{even/odd} является логичным развитием метода добавления контрольного пакета четности. Дальнейшее увеличение количества контрольных пакетов позволяет линейно увеличить максимальную длину передаваемого сообщения.

На рисунке 4 представлен график зависимости вероятности стирания пакета после применения метода - $\pi$ (вероятность того, что отдельно взятый пакет окажется невосстановленным) от исходной длины сообщения для исходной вероятности стирания пакета $q=0.002$

\begin{figure}[H]
    \centering
    {{\includegraphics[width=\textwidth]{figures/график15.JPG} }}%
    \caption{График зависимости $\pi$ от $K$}%
    \label{fig:example}%
\end{figure}

Среднеквадратическая ошибка с аналитической формулой - $1.7 * 10^{-9}$

\subsection{Коды Рида-Соломона}
\textbf{Рида – Соломона коды (РС-коды)} можно интерпретировать как недвоичные коды БЧХ (Боуза – Чоудхури – Хоквингема), значения кодовых символов которых взяты из поля $GF(2^{r})$, т. е. $r$ информационных символов отображаются отдельным элементом поля. Коды Рида – Соломона – это линейные недвоичные систематические циклические коды, символы которых представляют собой $r$-битовые последовательности, где $r$ – целое положительное число, большее 1.

Коды Рида – Соломона $(n, k)$ определены на $r$-битовых символах при всех $n$ и $k$, для которых:
$0 < k < n < 2r + 2$, где
$k$ – число информационных символов, подлежащих кодированию,
$n$ – число кодовых символов в кодируемом блоке. \citep{opr}

РС-коды обладают наибольшим минимальным расстоянием (числом символов, которыми отличаются последовательности), возможным для линейного кода, определяемым следующим образом: $d_{min} = n-k + 1$. \citep{kasp}

Замечательным свойством данного метода является тот факт, что Код Рида — Соломона, исправляющий t ошибок типа стирание, требует t проверочных пакетов, и с его помощью исправляются произвольные t ошибок и меньше. Данное свойство делает РС-коды лучшими среди систематических кодов с точки зрения избыточности в данной задаче. На практике применение данного метода усложняется необходимостью использования достаточно большого кодового алфавита. Размер алфавита должен быть не меньше длины кодовых слов, то есть не меньше длины пакета. Более того, отдельной задачей является оптимальный алгоритм декодирования сообщения - несмотря на теоритическую полиномиальную сложность, алгоритм достаточно медленный и вычислительно емкий. Данные проблемы решаются различными модификациями и улучшениями РС-кодов (например, каскадные коды), однако в рамках данной работы исследуется исключительно корректирующая способность методов. \citep{2fires}

Решение остановиться именно на РС-кодах среди методов и модификаций с аналогичной корректирующей способностью было продиктовано хорошей изученностью данного метода и наличием большого количества прикладных реализаций. Для декодирования используется алгоритм Берлекэмпа – Мэсси.\citep{decode}

На рисунке 5 представлен график зависимости вероятности стирания пакета после применения метода - $\pi$ (вероятность того, что отдельно взятый пакет окажется невосстановленным) от исходной длины сообщения для исходной вероятности стирания пакета $q=0.005$. Для сравнения были выбраны несколько вариантов РС - кодов, исправляющих различное количество ошибок.

\begin{figure}[h]
    \centering
    {{\includegraphics[width=\textwidth]{figures/график2.JPG} }}%
    \caption{График зависимости $\pi$ от $K$}%
    \label{fig:example}%
\end{figure}

Как видно из графика, РС-коды значительно превосходят предыдущий метод при аналогичной избыточности. Ниже приведена таблица, в которой приведено требуемое количество пакетов, которые необходимо восстановить, чтобы понизить вероятность потери пакета до $\pi=0.001$. Заметим, что в случае РС-кодов количество пакетов, которые необходимо восстановить, равно числу избыточных пакетов.

% Please add the following required packages to your document preamble:
% \usepackage{multirow}
% \usepackage{graphicx}

% Please add the following required packages to your document preamble:
% \usepackage{multirow}
% \usepackage{graphicx}
\begin{table}[H]
\centering
\resizebox{\textwidth}{!}{%
\begin{tabular}{|c|r|r|}
\hline
\multicolumn{1}{|l|}{Исходная длина сообщения - K} &
  \multicolumn{1}{l|}{Вероятность одного потери пакета в канале \%} &
  \multicolumn{1}{l|}{Кол-во пакетов, которые необходимо восстановить} \\ \hline
\multirow{5}{*}{5}    & 0.2 & 1  \\ \cline{2-3} 
                      & 0.5 & 1  \\ \cline{2-3} 
                      & 0.7 & 1  \\ \cline{2-3} 
                      & 1   & 1  \\ \cline{2-3} 
                      & 1.5 & 2  \\ \hline
\multirow{5}{*}{10}   & 0.2 & 1  \\ \cline{2-3} 
                      & 0.5 & 1  \\ \cline{2-3} 
                      & 0.7 & 1  \\ \cline{2-3} 
                      & 1   & 1  \\ \cline{2-3} 
                      & 1.5 & 2  \\ \hline
\multirow{5}{*}{50}   & 0.2 & 1  \\ \cline{2-3} 
                      & 0.5 & 2  \\ \cline{2-3} 
                      & 0.7 & 2  \\ \cline{2-3} 
                      & 1   & 2  \\ \cline{2-3} 
                      & 1.5 & 3  \\ \hline
\multirow{5}{*}{100}  & 0.2 & 1  \\ \cline{2-3} 
                      & 0.5 & 2  \\ \cline{2-3} 
                      & 0.7 & 3  \\ \cline{2-3} 
                      & 1   & 3  \\ \cline{2-3} 
                      & 1.5 & 5  \\ \hline
\multirow{5}{*}{300}  & 0.2 & 1  \\ \cline{2-3} 
                      & 0.5 & 3  \\ \cline{2-3} 
                      & 0.7 & 5  \\ \cline{2-3} 
                      & 1   & 6  \\ \cline{2-3} 
                      & 1.5 & 9  \\ \hline
\multirow{5}{*}{500}  & 0.2 & 2  \\ \cline{2-3} 
                      & 0.5 & 5  \\ \cline{2-3} 
                      & 0.7 & 7  \\ \cline{2-3} 
                      & 1   & 9  \\ \cline{2-3} 
                      & 1.5 & 13 \\ \hline
\multirow{5}{*}{1000} & 0.2 & 3  \\ \cline{2-3} 
                      & 0.5 & 8  \\ \cline{2-3} 
                      & 0.7 & 11 \\ \cline{2-3} 
                      & 1   & 15 \\ \cline{2-3} 
                      & 1.5 & 22 \\ \hline
\end{tabular}%
}
\end{table}



\bibliographystyle{unsrtnat}
\bibliography{references.bib}

\end{document}